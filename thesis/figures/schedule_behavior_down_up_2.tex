\documentclass{standalone}
\usepackage{tikz}
\begin{document}
\begin{tikzpicture}
	\begin{axis}[%
	    xlabel=Time $t$,
	    ylabel=Active servers,
	    axis x line = bottom,axis y line = left,
	    ytick={3,8,14,23,34,46},
	    yticklabels={$1$,$l$,$u$,$\hat{u}$,$l'$,$u'$},
	    xtick={0,1,2,6,7},
	    xticklabels={$i-1$,$i$,$i+1$,$j$,$j+1$},
	    ymin=0,
	    ymax=50, % or enlarge y limits=upper
	    xmax=7.9,
	    legend pos=outer north east
	    ]
	\addplot+[const plot, no marks, thick, color=red] coordinates {(1,16) (1,12) (2,9) (3,13) (4,11) (4.5,11)};
	\addplot+[forget plot, const plot, no marks, thick, color=red] coordinates {(5.5,13) (6,9) (7,40) (7.5,40)};
	\addlegendentry{$x_t$};
	\addplot+[const plot, no marks, thick, color=blue] coordinates {(1,23) (7,23) (7,46) (7.5,46)};
	\addlegendentry{$x_t'$};
	\addplot+[const plot, no marks, thick, dashed, color=black] coordinates {(0,3) (7.8,3)};
	\addplot+[const plot, no marks, thick, dashed, color=black] coordinates {(0,8) (7.8,8)};
	\addplot+[const plot, no marks, thick, dashed, color=black] coordinates {(0,14) (7.8,14)};
	\addplot+[const plot, no marks, thick, dashed, color=black] coordinates {(0,23) (1,23)};
	\addplot+[const plot, no marks, thick, dashed, color=black] coordinates {(7,23) (7.8,23)};
	\addplot+[const plot, no marks, thick, dashed, color=black] coordinates {(0,34) (7.8,34)};
	\addplot+[const plot, no marks, thick, dashed, color=black] coordinates {(0,46) (7,46)};
	\addplot+[const plot, no marks, thick, dashed, color=black] coordinates {(7.5,46) (7.8,46)};
	\end{axis}
	\node (1) at (3.5,3.3) {\vdots};
	\node [right=1.5cm of 1] {\vdots};
	\node [left=1.5cm of 1] {\vdots};
	\node (2) [below=1.75cm of 1] {\vdots};
	\node [right=1.5cm of 2] {\vdots};
	\node [left=1.5cm of 2] {\vdots};
	\node [red] at (4.3,1.2) {$\,\dotso$};
	\node [red] at (0.86,2.3) {\vdots};
\end{tikzpicture}
\end{document}
